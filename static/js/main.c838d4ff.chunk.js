(this["webpackJsonpdicionario-react"]=this["webpackJsonpdicionario-react"]||[]).push([[0],{13:function(e,t,a){e.exports=a.p+"static/media/book-24px.9a22c7f5.svg"},34:function(e,t,a){e.exports=a.p+"static/media/search-black-18dp.19142cc5.svg"},37:function(e,t,a){e.exports=a(77)},42:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},56:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),o=a.n(c),l=(a(42),a(5)),i=a(1),u=a(9),s=a.n(u),m=a(12),p=a(6),d=a(2),f=a(10),E=Object(f.b)({name:"word",initialState:{entries:[]},reducers:{setEntries:function(e,t){return e.entries=t.payload.entries,e}}}),h=function(e){return e.word.entries},g=E.actions,b=E.reducer,v=Object(f.b)({name:"search",initialState:{text:"example"},reducers:{setText:function(e,t){return e.text=t.payload,e}}}),O=function(e){return e.search.text},k=v.actions,j=v.reducer,y=(a(48),a(34)),w={backgroundImage:"url(".concat(a.n(y).a,")"),backgroundColor:"white",backgroundRepeat:"no-repeat",backgroundSize:"20px 30px",backgroundAttachment:"scroll"};function x(){var e=Object(d.c)(O),t=Object(d.b)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"input-search",hidden:!0},"Pesquisa:"),r.a.createElement("input",{id:"input-search",className:"hover-effect",type:"text",title:"Search field",required:!0,value:e,style:w,onChange:function(e){return t(k.setText(e.target.value))},autoFocus:!0}))}a(49);function S(){return r.a.createElement("div",{className:"container-search"},r.a.createElement(x,null))}a(50);function N(e){var t=e.onClick,a=e.type,n=e.text;return r.a.createElement("div",{className:"container-button"},r.a.createElement("button",{className:"hover-effect",type:a,onClick:t},n))}a(51),a(52);function F(e){var t=e.lexeme;return r.a.createElement(r.a.Fragment,null,t.senses?t.senses.map((function(e,t){return r.a.createElement("p",{key:t},e.definition)})):null)}function L(e){var t=e.lexemes;return r.a.createElement("div",{className:"container-lexemes"},r.a.createElement("h4",null,"Definitions:"),t&&t.map((function(e,t){return r.a.createElement(F,{key:t,lexeme:e})})))}function C(e){var t=e.audio;return r.a.createElement("div",null,t.url?r.a.createElement("audio",{controls:"controls"},r.a.createElement("source",{src:t.url,type:"audio/mp3"}),"seu navegador n\xe3o suporta HTML5"):null)}function D(e){var t=e.pronunciation;return r.a.createElement(r.a.Fragment,null,t.audio?r.a.createElement(C,{audio:t.audio}):null)}function I(e){var t=e.pronunciations;return r.a.createElement("div",{className:"container-pronuntiations"},r.a.createElement("h4",null,"Pronuntiations:"),t&&t.map((function(e,t){return r.a.createElement(D,{key:t,pronunciation:e})})))}function q(e){var t=e.entrie;return r.a.createElement("div",{className:"container container-card hover-effect"},r.a.createElement(L,{lexemes:t.lexemes}),r.a.createElement(I,{pronunciations:t.pronunciations}))}function R(){var e=Object(d.c)(h);return r.a.createElement("div",{className:"container-cards"},e.map((function(e,t){return r.a.createElement(q,{key:t,entrie:e})})))}a(53);var P=a(13),A=a.n(P),T=(a(54),a(35)),B=a(36),J=function(){function e(){Object(T.a)(this,e)}return Object(B.a)(e,null,[{key:"saveSession",value:function(e){localStorage.setItem("token",e)}},{key:"deleteSession",value:function(){localStorage.removeItem("token")}},{key:"isLoggedIn",value:function(){return!!localStorage.getItem("token")}}]),e}(),M=Object(f.b)({name:"session",initialState:{isLogged:J.isLoggedIn()},reducers:{setLogged:function(e,t){return e.isLogged=t.payload,e}}}),U=function(e){return e.session.isLogged},W=M.actions,z=M.reducer;function H(){var e=Object(d.c)(U);return r.a.createElement("header",{className:e?"container-header":"container-header big"},r.a.createElement("img",{src:A.a,alt:"Open book"}),r.a.createElement("h1",{title:"Dictionary"},"Dictionary"),r.a.createElement("div",{className:"container-login-link"},e?r.a.createElement(l.b,{to:"/logout"},"Logout"):r.a.createElement(l.b,{to:"/login"},"Login")))}a(56);function $(){return r.a.createElement("footer",{className:"container-footer"},r.a.createElement("p",null,"API: ",r.a.createElement("a",{href:"https://www.linguarobot.io/"},"Lingua Robot")))}var G=a(17),K=a.n(G),Q=K.a.create({baseURL:"https://dictionary-express.herokuapp.com/"});function V(){var e=Object(n.useState)(!1),t=Object(p.a)(e,2),a=t[0],c=t[1],o=Object(d.c)(h),l=Object(d.c)(O),i=Object(d.b)();function u(){return(u=Object(m.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!a){e.next=3;break}return e.abrupt("return");case 3:return c(!0),e.next=6,Q.get("search?word=".concat(l));case 6:n=e.sent,i(g.setEntries(n.data)),c(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(H,null),r.a.createElement("main",null,r.a.createElement("form",{autoComplete:"off"},r.a.createElement(S,null),r.a.createElement(N,{onClick:function(e){return u.apply(this,arguments)},type:"submit",text:a?"...Loading":"Search"}),o.length?r.a.createElement(R,null):null)),r.a.createElement($,null))}function X(){var e=Object(d.b)(),t=Object(i.f)();return Object(n.useEffect)((function(){J.deleteSession(),e(W.setLogged(!1)),t.push("/")})),r.a.createElement(r.a.Fragment,null)}function Y(){return r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",exact:!0,component:V}),r.a.createElement(i.a,{path:"/logout",exact:!0,component:X}))}a(74);var Z=K.a.create({baseURL:"https://reqres.in/"});function _(){var e=Object(n.useState)(!1),t=Object(p.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),u=Object(p.a)(o,2),f=u[0],E=u[1],h=Object(n.useState)(""),g=Object(p.a)(h,2),b=g[0],v=g[1],O=Object(d.b)(),k=Object(i.f)();function j(){return(j=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!a){e.next=3;break}return e.abrupt("return");case 3:c(!0),Z.post("/api/login",{email:f,password:b}).then((function(e){e.data&&e.data.token&&(J.saveSession(e.data.token),O(W.setLogged(!0)),k.push("/"))})).catch((function(e){e.response&&e.response.data&&e.response.data.error?alert("Falha no login: ".concat(e.response.data.error)):alert("Ocorreu um erro desconhecido")})),c(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"container-header"},r.a.createElement("img",{src:A.a,alt:"Open book"}),r.a.createElement("h1",{title:"Dictionary"},"Dictionary")),r.a.createElement("main",{className:"container-login"},r.a.createElement("form",null,r.a.createElement("section",null,r.a.createElement("h2",null,"Login"),r.a.createElement("label",{htmlFor:"input-email"},"E-mail:"),r.a.createElement("input",{id:"input-email",className:"hover-effect",type:"text",title:"Search field",required:!0,value:f,onChange:function(e){return E(e.target.value)},autoFocus:!0}),r.a.createElement("label",{htmlFor:"input-password"},"Password:"),r.a.createElement("input",{id:"input-password",className:"hover-effect",type:"password",title:"Search field",required:!0,value:b,onChange:function(e){return v(e.target.value)},autoFocus:!0}),r.a.createElement(l.b,{className:"register-link",to:"/register"},"Don't have an account?"),r.a.createElement(N,{onClick:function(e){return j.apply(this,arguments)},type:"button",text:a?"...Loading":"Login"})))))}function ee(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(H,null),r.a.createElement($,null))}a(75);function te(){var e=Object(n.useState)(!1),t=Object(p.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),u=Object(p.a)(o,2),f=u[0],E=u[1],h=Object(n.useState)(!1),g=Object(p.a)(h,2),b=g[0],v=g[1],O=Object(n.useState)(""),k=Object(p.a)(O,2),j=k[0],y=k[1],w=Object(n.useState)(""),x=Object(p.a)(w,2),S=x[0],F=x[1],L=Object(d.b)(),C=Object(i.f)();function D(){return(D=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),b){e.next=4;break}return alert("passwords don't match"),e.abrupt("return");case 4:if(!a){e.next=6;break}return e.abrupt("return");case 6:c(!0),Z.post("/api/register",{email:f,password:j}).then((function(e){e.data&&e.data.token&&(J.saveSession(e.data.token),L(W.setLogged(!0)),C.push("/"))})).catch((function(e){e.response&&e.response.data&&e.response.data.error?alert("".concat(e.response.data.error)):alert("An unexpected error occurred")})),c(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){v(!(!j.length||!S.length||j!==S)),console.log(b)}),[j,S,b]),r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"container-header"},r.a.createElement("img",{src:A.a,alt:"Open book"}),r.a.createElement("h1",{title:"Dictionary"},"Dictionary")),r.a.createElement("main",{className:"container-register"},r.a.createElement("form",null,r.a.createElement("section",null,r.a.createElement("h2",null,"Register"),r.a.createElement("label",{htmlFor:"input-email"},"E-mail:"),r.a.createElement("input",{id:"input-email",className:"hover-effect",type:"text",title:"E-mail",required:!0,value:f,onChange:function(e){return E(e.target.value)},autoFocus:!0}),r.a.createElement("label",{htmlFor:"input-password"},"Password:"),r.a.createElement("input",{id:"input-password",className:"hover-effect",type:"password",title:"Password",required:!0,value:j,onChange:function(e){return y(e.target.value)},autoFocus:!0}),r.a.createElement("label",{htmlFor:"input-password-retype"},"Retype password:"),r.a.createElement("input",{id:"input-password-retype",className:"hover-effect",type:"password",title:"Retype password",required:!0,value:S,onChange:function(e){return F(e.target.value)},autoFocus:!0}),!b&&j.length&&S.length?r.a.createElement("span",{className:"invalid-password"},"passwords don't match"):null,r.a.createElement(l.b,{className:"login-link",to:"/login"},"I already have an account"),r.a.createElement(N,{onClick:function(e){return D.apply(this,arguments)},type:"button",text:a?"...Loading":"Register"})))))}function ae(){return r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",exact:!0,component:ee}),r.a.createElement(i.a,{path:"/login",exact:!0,component:_}),r.a.createElement(i.a,{path:"/register",exact:!0,component:te}))}function ne(){var e=Object(d.c)(U);return r.a.createElement(l.a,null,e?r.a.createElement(Y,null):r.a.createElement(ae,null))}var re=function(){return r.a.createElement(ne,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ce=Object(f.a)({reducer:{word:b,search:j,session:z}});a(76);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(d.a,{store:ce},r.a.createElement(re,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.c838d4ff.chunk.js.map